{{#if primaryOption}}
  {{#eui-button
    style=view.style
    size=view.size
    loading=view.loading
    disabled=view.disabled
    class="eui-dropbutton--primary-action"
    action="primaryAction"}}
    {{primaryOption.label}}
  {{/eui-button}}

  {{#eui-button
    style=view.style
    size=view.size
    loading=false
    disabled=view.disabled
    classBinding=":eui-dropbutton--trigger :eui-dropbutton--narrow-icon showOptionList:eui-active"
    action="showOptionList"}}
  {{/eui-button}}

{{else}}
  {{#eui-button
    style=view.style
    size=view.size
    loading=view.loading
    disabled=view.disabled
    classBinding="showOptionList:eui-active :eui-dropbutton--wide-icon"
    action="showOptionList"}}
      {{label}}
  {{/eui-button}}

{{/if}}

{{#if showOptionList}}
  {{#eui-popup onCancel=(action "cancel")}}
    {{#eui-option-list
      style="dropbutton"
      options=optionsWithoutPrimaryOption as |option index|}}
      <div class="eui-dropbutton--list-option" {{action "secondaryAction" option}}>
        {{option.label}}
      </div>
    {{/eui-option-list}}
  {{/eui-popup}}
{{/if}}
